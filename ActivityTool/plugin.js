(function(l,u,r,i,d){"use strict";function g(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var e=g(u);const f=r.findByDisplayName("SwitchItem"),h=r.findByDisplayName("FormText");function p(t){const[s,a]=i.React.useState(e.default.persist.ghost.settings.persistentActivities||!1);return i.React.createElement(i.React.Fragment,null,i.React.createElement(f,{onChange:c=>{a(c),e.default.persist.store.settings.persistentActivities=c},value:s},"Persistent Activities",i.React.createElement(h,null,"When enabled, patch Dispatch to make activities persist when the user leaves the VC, including when removed by a moderator.")))}var n=(t,s,a)=>{console[t](`%c${s}%c`,"color: orange; font-weight: bold;","",a)},o=t=>{t===!0?e.default.discatch=d.instead("dispatch",r.findByProps("isDispatching"),(s,a)=>{try{a(s)}catch(c){n("warn",`[ActivityTool] Dispatch error caught!
`,c)}}):e.default.discatch&&e.default.discatch()},m=()=>(n("log","[ActivityTool]","Initialising..."),e.default.persist.ghost.settings.persistentActivities===!0&&o(!0),{onUnload(){o(!1)},settings:l.createElement(p)});return m})(cumcord.modules.common.React,cumcord.pluginData,cumcord.modules.webpack,cumcord.modules.common,cumcord.patcher);
