(function(f,T,p,b,i,t){"use strict";function c(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var y=c(p),R=c(b);async function o(){let e=R.default.installed.ghost,n=Object.keys(e).map(r=>[r,e[r]]),a={plugins:[]};for(const r of n)a.plugins.push({url:r[0],nest:await y.default.get(r[0]+"_CUMCORD_STORE")});return a}function l(e,n){let a=document.createElement("a");a.href=`data:,${encodeURIComponent(e)}`,a.setAttribute("download",n),a.click(),a.remove()}const s=i.findByProps("Sizes","Colors","Looks","DropdownSizes"),u=i.findByDisplayName("Card"),d=i.findByDisplayName("FormText"),m=i.findByDisplayName("FormTitle");function g({title:e,description:n,buttonText:a,buttonColor:r,buttonSize:D,buttonLook:k,buttonFunc:N}){return t.React.createElement(t.React.Fragment,null,t.React.createElement(u,{type:u.Types.PRIMARY,className:"beef-ms-settings-card"},t.React.createElement(m,{tag:m.Tags.H1},e),t.React.createElement(d,{className:"beef-ms-settings-card-description",type:d.Types.DESCRIPTION},n),t.React.createElement(s,{color:s.Colors[r]||s.Colors.BRAND,size:s.Sizes[D]||s.Sizes.SMALL,look:s.Looks[k]||s.Looks.FILLED,className:"beef-ms-settings-card-button",onClick:N},a)))}function E(e){return t.React.createElement(t.React.Fragment,null,t.React.createElement("div",{className:"beef-ms-settings-card-container"},t.React.createElement(g,{title:"Backup",description:"Creates a backup of your current installation, including plugins and plugin nests.",buttonText:"Backup",buttonSize:"MEDIUM",buttonFunc:async n=>{l(JSON.stringify(await o()),"backup.json")}}),t.React.createElement(g,{title:"Restore",description:"Restores from a backup of your current installation.",buttonText:"Restore",buttonSize:"MEDIUM",buttonFunc:async n=>{l(JSON.stringify(await o()),"backup.json")}})))}var S=()=>cumcord.patcher.injectCSS(".beef-ms-settings-card-container{display:flex;flex-direction:row;margin-bottom:.5rem}.beef-ms-settings-card-container .beef-ms-settings-card{width:100%;padding:20px;margin-left:.5rem}.beef-ms-settings-card-container .beef-ms-settings-card h1{margin-bottom:.25rem}.beef-ms-settings-card-container .beef-ms-settings-card .beef-ms-settings-card-description{margin-bottom:2rem}.beef-ms-settings-card-container .beef-ms-settings-card .beef-ms-settings-card-button{position:absolute;bottom:0;right:0;margin:.5rem}"),C=()=>{const e=[S()];return{onUnload(){_.forEachRight(e,n=>n())},settings:f.createElement(E)}};return C})(cumcord.modules.common.React,cumcord.pluginData,cumcord.modules.internal.idbKeyval,cumcord.plugins,cumcord.modules.webpack,cumcord.modules.common);
